
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Javascript Unit Testing Basics and TDD - Test Driven Development</title>
  <meta name="author" content="Shidhin C R">

  
  <meta name="description" content="TDD &ndash; Test Driven Development TDD is a typical software development style where, first the test will be written for any unit( function/module &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.undefinednull.com/2013/09/06/javascript-unit-testing-basics">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="We.B.Log" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-10379928-17']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">We.B.Log</a><span class="note">  - by Shidhin C R </span></h1>
  
    <h2>Scribbles of a UI developer, JavaScript enthusiast</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.undefinednull.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Javascript Unit Testing Basics and TDD - Test Driven Development</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-09-06T15:02:00+05:30" pubdate data-updated="true">Sep 6<span>th</span>, 2013</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><h2>TDD &ndash; Test Driven Development</h2>

<p>TDD is a typical software development style where, first the test will be written for any unit( function/module ) then the actual code. Initially all the tests for the
particular unit will start failing. Now the developer has to write the unit code to make each test pass. This is how developer will be designing a better, testable code for any unit.</p>

<h2>Which framework to choose ?</h2>

<p>There&rsquo;re many for JS unit testing. Naming few here :</p>

<ul>
<li>QUnit</li>
<li>JsTestDriver</li>
<li>Jasmine</li>
<li>Mocha</li>
<li>BusterJS</li>
<li>PhantomJS</li>
</ul>


<p>The list goes like this ..</p>

<p>It doesn&rsquo;t matter which framework you choose. Few caveats you need to consider when you need to test any unit which has async executing code involved. At that time, you need to check the chosen framework supports asynchronous testing or not.</p>

<p>I&rsquo;m going to use <code>BusterJS</code> here for the example described below. Check the <code>BusterJS</code> website to know how to install it in your system.</p>

<!-- more -->


<h2>Example</h2>

<p><strong>What we&rsquo;re going to build :</strong></p>

<p>We need to build an expandable module which has the following API</p>

<ul>
<li>It should&rsquo;ve a method <code>expand()</code></li>
<li>It should&rsquo;ve a method <code>collapse</code></li>
<li>It should&rsquo;ve a method <code>toggle</code></li>
</ul>


<h2>Defining our tests</h2>

<p>In our test/testSuite ( testSuite is a collection of tests ) , we need to write tests that will satisfy the functional criterias. For example : Our first criterias should be</p>

<ul>
<li>Once initialized,  the module should be an object ( should not be undefined ).</li>
<li>The module should&rsquo;ve all methods defined as per it&rsquo;s API</li>
</ul>


<p>Wriring these tests in BusterJS is very simple. Buster uses the assertion framework internally ( expect.js ) which is more like writing in natural language.</p>

<p>First we need to define our test&rsquo;s name.We use the <code>describe</code> method buster provides. Before using <code>describe</code> method we&rsquo;ve to expose these methods to public. This is because , Buster encapsulates all these methods in it&rsquo;s namespace –– and if we need to avoid calling such a long namespace, we need to expose these methods to global scope. For that we use the following code</p>

<pre><code>buster.spec.expose()
</code></pre>

<p><code>spec</code> is same as <code>test</code> rather it&rsquo;s a BDD syntax . I need to explain what BDD is , and that I&rsquo;ll cover later.</p>

<h2>Files</h2>

<p>I&rsquo;ve created a file named <code>expandable.test.js</code> in the <code>TDD\tests</code> folder. Also the actual unit code goes to another file <code>expandable.js</code> which is there in <code>TDD\lib</code> folder.</p>

<p>To tell Buster to pick these files and run , we need to create another configuration file called <code>buster.js</code> –– It&rsquo;s pretty much self explanatory when you see the configuration code. I&rsquo;ve given below for reference :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="p">;</span>
</span><span class='line'><span class="nx">config</span><span class="p">[</span><span class="s2">&quot;expandableModule&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">rootPath</span><span class="o">:</span> <span class="s2">&quot;../&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">environment</span><span class="o">:</span> <span class="s2">&quot;browser&quot;</span><span class="p">,</span> <span class="c1">// or &quot;node&quot;</span>
</span><span class='line'>    <span class="nx">sources</span><span class="o">:</span> <span class="p">[</span>
</span><span class='line'>        <span class="s2">&quot;lib/expandable.js&quot;</span>
</span><span class='line'>    <span class="p">],</span>
</span><span class='line'>    <span class="nx">tests</span><span class="o">:</span> <span class="p">[</span>
</span><span class='line'>        <span class="s2">&quot;tests/expandable.test.js&quot;</span>
</span><span class='line'>    <span class="p">]</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h2>So our first testcase</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;expandable module test&quot;</span> <span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">before</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>      <span class="k">this</span><span class="p">.</span><span class="nx">expandable</span> <span class="o">=</span> <span class="nx">module</span><span class="p">(</span><span class="s2">&quot;expandable&quot;</span><span class="p">);</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'>  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;should be an object when initialized and should&#39;ve all the api defined&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>      <span class="nx">expect</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">expandable</span> <span class="p">).</span><span class="nx">toBeDefined</span><span class="p">().</span><span class="nx">toBeObject</span><span class="p">();</span>
</span><span class='line'>      <span class="nx">expect</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">expandable</span><span class="p">.</span><span class="nx">expand</span> <span class="p">).</span><span class="nx">toBeFunction</span><span class="p">();</span>
</span><span class='line'>      <span class="nx">expect</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">expandable</span><span class="p">.</span><span class="nx">collapse</span> <span class="p">).</span><span class="nx">toBeFunction</span><span class="p">();</span>
</span><span class='line'>      <span class="nx">expect</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">expandable</span><span class="p">.</span><span class="nx">toggle</span> <span class="p">).</span><span class="nx">toBeFunction</span><span class="p">();</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>The <code>before</code> function will get executed before each <code>it</code> function handler executes. We can utilise this one for resetting any values which already set , and will affect our tests.</p>

<p>Naviagate to this directory in terminal and execute the buster command to start capturing browser slave. This step is required if we choose the running environment as browser. So buster will be running all the code in the browser slave we capture. ( the other option is to directly run in node environment )</p>

<p>So start capturing browser</p>

<pre><code>buster server
</code></pre>

<p>This will output something similar like this</p>

<pre><code>buster-server running on http://localhost:1111
</code></pre>

<p>Open up any browser ( I usually use Chrome ), and load the above url. Once it&rsquo;s opened , click on the capture browser to get our first browser slave.</p>

<p>Let&rsquo;s not try anything in the console , since we don&rsquo;t need to interrupt the running Buster server. Open a new tab in the console and run the following command.</p>

<pre><code>buster test
</code></pre>

<p>This will now pick the <code>buster.js</code> configuration and start executing tests one by one. We can see the test output in the console now.</p>

<p><em>By this time our first test should be failing</em> –––– Yes , it&rsquo;s <strong>FAILING</strong>. The output is like this :</p>

<pre><code>Chrome 28.0.1500.95, Mac OS X 10.7.5: F                                                                                
Failure: Chrome 28.0.1500.95, Mac OS X 10.7.5 expandable module test should be an object when initialized and should've all the api defined
    [expect.toBeDefined] Expected to be defined
    at Object.&lt;anonymous&gt; (./tests/expandable.test.js:9:29)

1 test case, 1 test, 1 assertion, 1 failure, 0 errors, 0 timeouts
Finished in 0.015s
</code></pre>

<p>So we can now assume that all our buster configurations are correct. We can add more test cases to the <code>expandable.test.js</code> now ( Ideally we should be writing all the test cases first and then only writing actual implementation of the unit ). But , this is just for learning purpose , I&rsquo;m going to write the implemenation for the <code>expandable</code> module.</p>

<p><strong><code>expandable.js</code></strong> code :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">module</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="s2">&quot;expandable&quot;</span><span class="p">,</span> <span class="p">{});</span>
</span></code></pre></td></tr></table></div></figure>


<p>Re-run the command <code>buster test</code> and we can see that our first expect statement is passing. Console output should be pointing to the failure of next assertion statement :</p>

<pre><code>Chrome 28.0.1500.95, Mac OS X 10.7.5: F                                                                                
Failure: Chrome 28.0.1500.95, Mac OS X 10.7.5 expandable module test should be an object when initialized and should've all the api defined
    [expect.toBeFunction] undefined (undefined) expected to be function
    at Object.&lt;anonymous&gt; (./tests/expandable.test.js:10:36)

1 test case, 1 test, 2 assertions, 1 failure, 0 errors, 0 timeouts
Finished in 0.014s
</code></pre>

<p>That&rsquo;s cool ! Let&rsquo;s make the entire test pass by defining the api in the expandable object.</p>

<p><strong><code>expandable.js</code></strong> code :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">module</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="s2">&quot;expandable&quot;</span><span class="p">,</span> <span class="p">{</span>
</span><span class='line'>  <span class="s2">&quot;expand&quot;</span> <span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{},</span>
</span><span class='line'>  <span class="s2">&quot;collapse&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{},</span>
</span><span class='line'>  <span class="s2">&quot;toggle&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{}</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>Run the buster test command again. Now we can see some green text in the console –– Yes, It&rsquo;s <strong>PASSING</strong> now :</p>

<pre><code>Chrome 28.0.1500.95, Mac OS X 10.7.5: .                                                                                
1 test case, 1 test, 4 assertions, 0 failures, 0 errors, 0 timeouts
Finished in 0.009s
</code></pre>

<h2>Further test cases : Designing the entire expandable module</h2>

<p>It&rsquo;s time to write the testcases for each API methods. Let&rsquo;s begin !</p>

<p>Let&rsquo;s assume that our expandable will have a property called <code>expanded</code> which will be <code>true</code> when expanded and will be <code>false</code> when collapsed. We need to make this one work in the initial implementation. We&rsquo;ll add the DOM interaction tests and implementation in the second phase.</p>

<p>So our tests will be something like this</p>

<p><strong><code>expandable.test.js</code></strong> code :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">buster</span><span class="p">.</span><span class="nx">spec</span><span class="p">.</span><span class="nx">expose</span><span class="p">();</span>
</span><span class='line'><span class="nx">describe</span><span class="p">(</span><span class="s2">&quot;expandable module test&quot;</span> <span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">before</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>      <span class="k">this</span><span class="p">.</span><span class="nx">expandable</span> <span class="o">=</span> <span class="nx">module</span><span class="p">(</span><span class="s2">&quot;expandable&quot;</span><span class="p">);</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'>  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;should be an object when initialized and should&#39;ve all the api defined&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>      <span class="nx">expect</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">expandable</span> <span class="p">).</span><span class="nx">toBeObject</span><span class="p">();</span>
</span><span class='line'>      <span class="nx">expect</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">expandable</span><span class="p">.</span><span class="nx">expand</span> <span class="p">).</span><span class="nx">toBeFunction</span><span class="p">();</span>
</span><span class='line'>      <span class="nx">expect</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">expandable</span><span class="p">.</span><span class="nx">collapse</span> <span class="p">).</span><span class="nx">toBeFunction</span><span class="p">();</span>
</span><span class='line'>      <span class="nx">expect</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">expandable</span><span class="p">.</span><span class="nx">toggle</span> <span class="p">).</span><span class="nx">toBeFunction</span><span class="p">();</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'>  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;should be able to expand&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>      <span class="nx">expect</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">expandable</span><span class="p">.</span><span class="nx">expanded</span> <span class="p">).</span><span class="nx">toBeFalse</span><span class="p">();</span>
</span><span class='line'>      <span class="k">this</span><span class="p">.</span><span class="nx">expandable</span><span class="p">.</span><span class="nx">expand</span><span class="p">();</span>
</span><span class='line'>      <span class="nx">expect</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">expandable</span><span class="p">.</span><span class="nx">expanded</span> <span class="p">).</span><span class="nx">toBeTrue</span><span class="p">();</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'>  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;should be able to collapse&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>      <span class="k">this</span><span class="p">.</span><span class="nx">expandable</span><span class="p">.</span><span class="nx">expand</span><span class="p">();</span>
</span><span class='line'>      <span class="nx">expect</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">expandable</span><span class="p">.</span><span class="nx">expanded</span> <span class="p">).</span><span class="nx">toBeTrue</span><span class="p">();</span>
</span><span class='line'>      <span class="k">this</span><span class="p">.</span><span class="nx">expandable</span><span class="p">.</span><span class="nx">collapse</span><span class="p">();</span>
</span><span class='line'>      <span class="nx">expect</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">expandable</span><span class="p">.</span><span class="nx">expanded</span> <span class="p">).</span><span class="nx">toBeFalse</span><span class="p">();</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'>  <span class="nx">it</span><span class="p">(</span><span class="s2">&quot;should be able to toggle&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>      <span class="k">this</span><span class="p">.</span><span class="nx">expandable</span><span class="p">.</span><span class="nx">collapse</span><span class="p">();</span>
</span><span class='line'>      <span class="nx">expect</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">expandable</span><span class="p">.</span><span class="nx">expanded</span> <span class="p">).</span><span class="nx">toBeFalse</span><span class="p">();</span>
</span><span class='line'>      <span class="k">this</span><span class="p">.</span><span class="nx">expandable</span><span class="p">.</span><span class="nx">toggle</span><span class="p">();</span>
</span><span class='line'>      <span class="nx">expect</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">expandable</span><span class="p">.</span><span class="nx">expanded</span> <span class="p">).</span><span class="nx">toBeTrue</span><span class="p">();</span>
</span><span class='line'>      <span class="k">this</span><span class="p">.</span><span class="nx">expandable</span><span class="p">.</span><span class="nx">toggle</span><span class="p">();</span>
</span><span class='line'>      <span class="nx">expect</span><span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">expandable</span><span class="p">.</span><span class="nx">expanded</span> <span class="p">).</span><span class="nx">toBeFalse</span><span class="p">();</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>I hope the code is self explanatory. Let&rsquo;s implement each method.</p>

<p><strong><code>expandable.js</code></strong> code :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">module</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="s2">&quot;expandable&quot;</span><span class="p">,</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">expanded</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
</span><span class='line'>  <span class="s2">&quot;expand&quot;</span> <span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">this</span><span class="p">.</span><span class="nx">expanded</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span><span class='line'>  <span class="p">},</span>
</span><span class='line'>  <span class="s2">&quot;collapse&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">this</span><span class="p">.</span><span class="nx">expanded</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</span><span class='line'>  <span class="p">},</span>
</span><span class='line'>  <span class="s2">&quot;toggle&quot;</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>      <span class="p">(</span><span class="o">!!</span><span class="k">this</span><span class="p">.</span><span class="nx">expanded</span><span class="p">)</span> <span class="o">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">collapse</span><span class="p">()</span> <span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">expand</span><span class="p">();</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<h2>How about units involving DOM manipulation ?</h2>

<p>This is a real world scenario. I would like to cover that in another article or may be I&rsquo;ll update here itself when I gets time.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Shidhin</span></span>

      








  


<time datetime="2013-09-06T15:02:00+05:30" pubdate data-updated="true">Sep 6<span>th</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/busterjs/'>busterjs</a>, <a class='category' href='/blog/categories/javascript/'>javascript</a>, <a class='category' href='/blog/categories/unit-testing/'>unit testing</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://www.undefinednull.com/2013/09/06/javascript-unit-testing-basics/" data-via="shidhincr" data-counturl="http://www.undefinednull.com/2013/09/06/javascript-unit-testing-basics/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
    <div class="about">
	<span class="about-image">
		<img src="/images/shidhincr.jpg" alt="shidhincr">
	</span>
	<span class="about-desc">
		<span>Hey, I'm Shidhin C R – UI / Front end developer from Bangalore, India. I use this space to share my experiences, experiments and thoughts. See more about me in <a href="http://www.shidhincr.in" target="_blank">shidhincr.in</a></span>
		<br/>
		<hr/>
		<a href="https://twitter.com/shidhincr" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @shidhincr</a>
	</span>
</div> 
    </p>
    <p class="meta">
      
      
        <a class="basic-alignment right" href="/2013/09/25/starting-my-new-blog-finally-octopress/" title="Next Post: Starting my new blog: Finally Octopress">Starting my new blog: Finally Octopress &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <div class="about sidebar">
  <span class="about-image">
    <img src="/images/shidhincr.jpg" alt="shidhincr">
  </span>
  <span class="about-desc">
    <span>Hey, I'm Shidhin C R <br/> I'm a UI / Front end developer from Bangalore, India. I use this space to share my experiences, experiments and thoughts. See more about me in <a href="http://www.shidhincr.in" target="_blank">shidhincr.in</a></span>
    <br/>
    <hr>
    <a href="https://twitter.com/shidhincr" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @shidhincr</a>
    <hr>
    <div class="g-follow" data-href="https://plus.google.com/u/0/113512069167494308499" data-rel="author" data-height="24"></div>
    <hr> 
  </span>
</div> <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2014/02/25/angularjs-real-time-model-persistence-using-local-storage/">AngularJS: Real Time Model Persistence Using Local Storage</a>
      </li>
    
      <li class="post">
        <a href="/2014/02/17/resolve-in-angularjs-routes-explained-as-story/">'Resolve' in AngularJS Routes, Explained as Story</a>
      </li>
    
      <li class="post">
        <a href="/2014/02/11/mastering-the-scope-of-a-directive-in-angularjs/">Mastering the Scope of the Directives in AngularJS</a>
      </li>
    
      <li class="post">
        <a href="/2014/02/10/difference-between-%24watch-and-%24observe-in-angularjs/">Difference Between $watch and $observe in AngularJS</a>
      </li>
    
      <li class="post">
        <a href="/2014/02/04/learn-emberjs-notes-from-an-absolute-beginner/">Learn EmberJS : Notes From an Absolute Beginner</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/shidhincr">@shidhincr</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'shidhincr',
            count: 3,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Shidhin C R -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'shidhincr';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://www.undefinednull.com/2013/09/06/javascript-unit-testing-basics/';
        var disqus_url = 'http://www.undefinednull.com/2013/09/06/javascript-unit-testing-basics/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


<!-- AddThis Smart Layers BEGIN -->
<!-- Go to http://www.addthis.com/get/smart-layers to customize -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-524e674f788aa8b9"></script>
<script type="text/javascript">
  addthis.layers({
    'theme' : 'dark',
    'share' : {
      'position' : 'right',
      'numPreferredServices' : 6
    } 
  });
</script>
<!-- AddThis Smart Layers END -->



</body>
</html>
