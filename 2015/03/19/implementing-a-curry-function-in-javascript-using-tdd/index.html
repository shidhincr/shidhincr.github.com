<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Implementing a curry function in JavaScript using TDD</title><link rel="apple-touch-icon" sizes="57x57" href="/img/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/img/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/img/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/img/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/img/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/img/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/img/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/img/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/img/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/img/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/img/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="#A7457F"><meta name="msapplication-TileImage" content="/img/ms-icon-144x144.png"><meta name="theme-color" content="#A7457F"><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin=""><link href="https://www.google.co.in" rel="preconnect" crossorigin=""><link href="https://www.google.com" rel="preconnect" crossorigin=""><link href="https://stats.g.doubleclick.net" rel="preconnect" crossorigin=""><link href="https://www.google-analytics.com" rel="preconnect" crossorigin=""><link rel="dns-prefetch" href="https://fonts.gstatic.com/"><link rel="dns-prefetch" href="https://www.google.co.in"><link rel="dns-prefetch" href="https://stats.g.doubleclick.net"><link rel="dns-prefetch" href="https://www.google.com"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preload" href="https://fonts.gstatic.com/s/lora/v14/0QIvMX1D_JOuMwr7I_FMl_E.woff2" as="font" crossorigin="" type="font/woff2"><meta name="Description" content="Personal blog of Shidhin CR. I use this space to share my experiences, experiments and thoughts"><style>/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}

      @font-face{font-family:Lora;font-style:normal;font-weight:400;font-display:swap;src:local('Lora Regular'),local('Lora-Regular'),url(https://fonts.gstatic.com/s/lora/v14/0QIvMX1D_JOuMwr7I_FMl_E.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}

      code[class*=language-],pre[class*=language-]{color:#9efeff;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;font-family:'Operator Mono','Fira Code',Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-weight:400;font-size:14px;line-height:22px;letter-spacing:.5px;text-shadow:0 1px #222245}code[class*=language-] ::-moz-selection,code[class*=language-] ::selection,code[class*=language-]::-moz-selection,code[class*=language-]::selection,pre[class*=language-] ::-moz-selection,pre[class*=language-] ::selection,pre[class*=language-]::-moz-selection,pre[class*=language-]::selection{color:inherit;background:#a599e9}pre[class*=language-]{padding:2em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#1e1e3f}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em}.token{font-weight:400}.token.cdata,.token.comment,.token.prolog{color:#b362ff}.token.atrule,.token.delimiter,.token.important,.token.keyword,.token.selector{color:#ff9d00}.token.attr-name,.token.operator{color:#ffb454}.token.punctuation{color:#fff}.token.boolean{color:#ff628c}.token.builtin,.token.doctype,.token.tag,.token.tag .punctuation{color:#ff9d00}.token.entity,.token.symbol{color:#6897bb}.token.number{color:#ff628c}.token.constant,.token.property,.token.variable{color:#ff628c}.token.char,.token.string{color:#a5ff90}.token.attr-value,.token.attr-value .punctuation{color:#a5c261}.token.attr-value .punctuation:first-child{color:#a9b7c6}.token.url{color:#287bde;text-decoration:underline}.token.function{color:#fad000}.token.regex{background:#364135}.token.bold{font-weight:700}.token.italic{font-style:italic}.token.inserted{background:#0f0}.token.deleted{background:#ff000d}code.language-css .token.property,code.language-css .token.property+.token.punctuation{color:#a9b7c6}code.language-css .token.id{color:#ffc66d}code.language-css .token.selector>.token.attribute,code.language-css .token.selector>.token.class,code.language-css .token.selector>.token.pseudo-class,code.language-css .token.selector>.token.pseudo-element{color:#ffc66d}.token.class-name{color:#fb94ff}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{background:0 0}pre .line-highlight,pre .line-highlight.line-highlight,pre>code.line-highlight{margin-top:36px;background:linear-gradient(to right,rgba(179,98,255,.17),transparent)}pre .line-highlight:before,pre .line-highlight[data-end]:after,pre>code.line-highlight:before,pre>code.line-highlight[data-end]:after{content:''}</style><style>:root{--red:#c5004a;--darkred:#7f0036;--lightgray:#e0e0e0;--gray:#c0c0c0;--darkgray:#333;--navy:#17050f;--blue:#082840;--white:#fff;--shadow:#aaa}*{box-sizing:border-box}body,html{padding:0;margin:0;font-family:Lora,sans-serif;font-weight:400;color:var(--darkgray);background:linear-gradient(to top,#76769a,#f5d1d1,#cae0e0);background-attachment:fixed;overflow-x:hidden}p:last-child{margin-bottom:0}.tmpl-post li,img,p{max-width:50em}.tmpl-post li,p{line-height:1.6}a[href]{color:var(--blue)}a[href]:visited{color:var(--navy)}main :first-child{margin-top:0}header{box-shadow:0 1px 10px var(--shadow);background-color:var(--white);max-height:50px}header:after{content:'';display:table;clear:both}table{margin:1em 0}table td,table th{padding-right:1em}code,pre{font-family:Consolas,Menlo,Monaco,'Andale Mono WT','Andale Mono','Lucida Console','Lucida Sans Typewriter','DejaVu Sans Mono','Bitstream Vera Sans Mono','Liberation Mono','Nimbus Mono L','Courier New',Courier,monospace;line-height:1.5}pre{font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;background-color:#f6f6f6}blockquote{border-left:5px solid #86a8e7;margin:0;padding-left:30px;font-style:italic;color:#888}.info{line-height:1.5em;padding:15px;border:1px solid #ffc66d;background-color:#ffffcc8a}.tmpl-post .info>p{margin:0}pre+.info{margin-top:30px}.highlight-line{display:block;padding:.125em 1em;text-decoration:none;color:inherit}.highlight-line:empty:before{content:' '}.highlight-line+br{display:none}.highlight-line-isdir{color:#b0b0b0;background-color:#222}.highlight-line-active{background-color:#444;background-color:hsla(0,0%,27%,.8)}.highlight-line-add{background-color:#45844b}.highlight-line-remove{background-color:#902f2f}.home{padding:0 1rem;float:left;margin:1rem 0;font-size:1em}.home :link:not(:hover){text-decoration:none}.nav{padding:0;list-style:none;float:left;margin-left:1em}.nav-item{display:inline-block;margin-right:1em}.nav-item a[href]:not(:hover){text-decoration:none}.nav-item-active{font-weight:700;text-decoration:underline}.postlist-year>h3{background:linear-gradient(to left,#e91e63,#9c27b0,#3f51b5);-webkit-text-fill-color:transparent;-webkit-background-clip:text;display:inline-block;margin:0}.postlist{list-style:none;padding:0;padding-left:20px}.postlist-item{font-size:16px;margin:10px 0}.postlist-item:before{display:inline-block;pointer-events:none;line-height:100%;text-align:right}.postlist-date,.postlist-item:before{font-size:.8125em;color:var(--darkgray)}.postlist-date{word-spacing:-.5px;margin:0 10px;font-style:italic}.postlist-link{display:inline-block;padding:.25em .1875em}.postlist-item-active .postlist-link{font-weight:700}.tmpl-home .postlist-link{font-size:1em;font-weight:300}.warning{background-color:#ffc;padding:1em .625em}.warning ol:only-child{margin:0}.direct-link{font-family:sans-serif;text-decoration:none;font-style:normal;margin-left:.1em}a[href].direct-link,a[href].direct-link:visited{color:transparent}:hover>a[href].direct-link,:hover>a[href].direct-link:visited,a[href].direct-link:focus,a[href].direct-link:focus:visited{color:#aaa}main{width:100%;max-width:900px;font-size:17px;min-height:100vh;padding:40px;background-color:var(--white);box-shadow:0 6px 5px #aaa;margin:auto;margin-top:-15px;padding-top:45px}main>h1{text-align:center}main img{display:block;max-width:100%;height:auto}.header-section{display:flex;flex-direction:row;justify-content:space-between;align-items:center;max-width:800px;margin:auto}.tmpl-post p{line-height:1.7;margin:25px 0}.tmpl-post>.post-card__title{margin:30px 0;font-size:1.7em}#homeLink{display:flex;flex-direction:row;color:#c6304b91;font-weight:100;font-size:12px;align-items:center}#homeLink>span{margin:0 10px}#homeLink>a:hover{text-decoration:none}#homeLink>a{color:#c6304b;font-size:25px;font-weight:700;letter-spacing:3px;font-family:monospace;background:linear-gradient(45deg,#607d8b,#9e9e9e);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.post-card{text-decoration:none;display:grid;grid-template:repeat(3,auto)/1fr;margin:10px 0;grid-row-gap:10px;border-bottom:1px solid #f1f1f1;padding:15px 30px}.post-card:last-child{border:none}.post-card__link{text-decoration:none}.post-card__title{margin:0;font-size:1.5em;font-weight:700;font-family:sans-serif;background:linear-gradient(45deg,#6642bd,#ea4337);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.rainbow-border-box{border-bottom:2px solid transparent;border-image:linear-gradient(to right,#b827fc 0,#2c90fc 25%,#b8fd33 50%,#fec837 75%,#fd1892 100%);border-image-slice:1;height:2px;display:block;margin:15px 0}.post-card__meta{display:flex;justify-content:space-between}.post-card__meta--center{justify-content:center}.post-card__meta-date{font-size:.9em;color:#666}.post-card__meta-readtime{font-size:.9em}.post-card__category{font-family:monospace;font-size:13px;font-weight:100;color:#c53261;padding:5px;background:#f1f1f1;border-radius:5px;margin:0 5px 5px;display:inline-block}.post-card__excerpt{line-height:1.8em}.post-card__date{font-size:.9em;color:#666}.tmpl-post p>code{background-color:#f1f1f1;color:#3f51b5;border-radius:2px;box-shadow:0 1px 3px #b1b1b1;border:none;padding:2px 10px;font-weight:400;font-family:inherit}.embedd-iframe{width:100%;min-height:300px;border:none}.image-center{display:flex;justify-content:center;align-items:center}.about-me__image{width:150px;border-radius:50%;height:150px;box-shadow:0 0 0 5px #fff,0 0 0 8px #ccc;margin-bottom:30px}.footer__content{padding:20px 0;display:flex;justify-content:center;max-width:80%;margin:auto;align-items:center}.footer__image{height:100px;width:200px;overflow:hidden;display:flex;align-items:center;justify-content:center}.footer__image img{width:100px;border-radius:50%;max-width:100%;max-height:100%}.footer__desc{margin:0 20px;line-height:30px;padding:10px 0}.footer__desc a[href].twitter-link:visited,.footer_desc a[href].twitter-link{color:#5f5ff2}.footer_desc-social-links{padding-top:10px}.footer_desc-social-links a{font-size:13px;border-right:1px solid #ccc;padding:0 5px}.footer_desc-social-links a:first-child{padding-left:0}.footer_desc-social-links a:last-child{border:none}.footer-links{background:#fafafa;color:#666;font-size:10px;padding:10px 20px;max-width:900px;margin:auto;display:flex;flex-direction:row-reverse;justify-content:space-between}.footer-links a,.footer-links a:visited{color:#666;text-decoration:none}.load-comments{padding:10px;max-width:200px;border:2px inset #9c27b08f;text-align:center;margin:auto;margin:50px auto;cursor:pointer;box-shadow:0 0 10px 0 #eec6f5;border-radius:5px;font-size:14px;color:#666}@media(max-width:560px){body{background:linear-gradient(to left,#7f7fd5,#86a8e7,#91eae4)}main{padding:20px;margin-top:5px}header{max-height:none}.header-section{flex-direction:column}.post-card{padding:20px 10px}.footer__content{flex-direction:column}}main>pre[class*=language-]{border-radius:0;margin-left:-40px;margin-right:-40px;padding:15px 40px}</style><link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="< UNDEFINED NULL />"></head><body><header><section class="header-section"><h1 id="homeLink" class="home"><a href="/">&lt; UNDEFINED NULL /&gt;</a></h1><ul class="nav"><li class="nav-item"><a href="/">Home</a></li><li class="nav-item"><a href="/archive/">Archive</a></li><li class="nav-item"><a href="/about/">About</a></li></ul></section></header><main class="tmpl-post"><h1 class="post-card__title">Implementing a curry function in JavaScript using TDD</h1><div class="post-card__meta"><div class="post-card__meta-date">19 Mar 2015</div><div class="post-card__meta-readtime">About 8 min read</div></div><div class="rainbow-border-box"></div><span class="post-card__category">TDD </span><span class="post-card__category">JavaScript </span><span class="post-card__category">Testem </span><span class="post-card__category">Curry</span><p>TDD stands for Test Driven Development. To those who don't know what TDD means: In a typical TDD Environment, a developer start with a basic test case describing the minimal requirement for implementing the module. Then he writes the actual implementation code for making the test case pass.</p><p><img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAA0JCgsKCA0LCgsODg0PEyAVExISEyccHhcgLikxMC4pLSwzOko+MzZGNywtQFdBRkxOUlNSMj5aYVpQYEpRUk8BDg4OExETJhUVJk81LTVPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT//AABEIAAkADAMBEQACEQEDEQH/xAGiAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgsQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+gEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoLEQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/AOW0oKNMsvstlaT7pCbszKHP3iB1PACn9afsZzV0OVaEY8nUwtRWBdRuRaEG381vKwSRtzx19qlXtqJFamAUAf/Z" alt="TDD" loading="lazy" data-src="https://lh3.googleusercontent.com/dtPfB5V-ew-rm3aApkXHTA8jFVwsFzoNNepbn9wU=w264-h207-p-no" class="lazyload" width="264" height="207"></p><p>Next, another test case is written for a different expectation for the module, followed by writing the implementation to make the test pass. This process goes on till the all the expectations for the actual module is implemented.</p><p>This way of development ( driven by series of test cases ) is called TDD.</p><h3 id="setting-up-the-tools">Setting up the tools <a class="direct-link" href="#setting-up-the-tools" aria-hidden="true">#</a></h3><p>Here we're going to use <a href="http://mochajs.org">Mocha</a> as the unit testing framework. For running the tests, we will be using <a href="https://github.com/airportyh/testem">Testem</a>.</p><p>We'll be using BDD ( Behaviour Driven Development, which is similar to TDD, but instead of <code>assertions</code> we use <code>expectaions</code>) style syntax. For that purpose let's use the excellent <a href="http://chaijs.com/">Chai.js</a> library.</p><p>First install Testem:</p><pre class="language-shell-session"><code class="language-shell-session"><span class="token output">npm install -g testem</span></code></pre><p>Now create a folder called <code>TDD</code> anywhere in your system. We're going to keep all our files in this folder.</p><pre class="language-shell-session"><code class="language-shell-session"><span class="token output">mkdir TDD &amp;&amp; cd TDD</span></code></pre><p>Create the following files:</p><ol><li>curry.js ( The module we're going to implement )</li><li>curry-spec.js ( Test file for the curry.js )</li><li>testem.yml ( Testem configurations )</li></ol><h4 id="testem-configuration">Testem Configuration <a class="direct-link" href="#testem-configuration" aria-hidden="true">#</a></h4><p>Edit the <code>testem.yml</code> and set up the source files for running the tests.</p><pre class="language-yml"><code class="language-yml"><span class="token key atrule">src_files</span><span class="token punctuation">:</span><br><span class="token punctuation">-</span> curry.js<br><span class="token punctuation">-</span> curry<span class="token punctuation">-</span>spec.js</code></pre><p>Open Terminal and run the command <code>testem</code> from the TDD folder to verify testem is running.</p><h4 id="mocha-and-chai">Mocha and Chai <a class="direct-link" href="#mocha-and-chai" aria-hidden="true">#</a></h4><p>As I said earlier, we're going to use <strong>Mocha</strong> and <strong>Chai</strong> for writing the test cases. By default, testem uses Jasmine as the testing framework. So to use Mocha and Chai, we need to change the testem configuration.</p><p>First install Chai.js from npm.</p><pre class="language-shell-session"><code class="language-shell-session"><span class="token output">npm install chai</span></code></pre><p>Open the <code>testem.yml</code> in editor and modify like below.</p><pre class="language-yml"><code class="language-yml"><span class="token key atrule">framework</span><span class="token punctuation">:</span> mocha<br><span class="token key atrule">src_files</span><span class="token punctuation">:</span><br><span class="token punctuation">-</span> node_modules/chai/chai.js<br><span class="token punctuation">-</span> curry.js<br><span class="token punctuation">-</span> curry<span class="token punctuation">-</span>spec.js</code></pre><p>We also need to override the global <code>expect</code> in Testem with the <code>expect</code> method of Chai.js</p><p>Create a <code>setup.js</code> file in TDD folder like below:</p><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> expect <span class="token operator">=</span> chai<span class="token punctuation">.</span>expect</code></pre><p>To make sure that everything works fine, edit the <strong>curry-spec.js</strong> with the following code and run the <code>testem</code> command from terminal.</p><pre class="language-js"><code class="language-js"><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Testem setup'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should verify the tests are passing'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>        <span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Open the link in the terminal to start capture the browser and run the tests. Once the tests ran, you should be able to see an output like this:</p><pre class="language-shell-session"><code class="language-shell-session"><span class="token output">TEST'EM 'SCRIPTS!<br>Open the URL below in a browser to connect.<br>http://localhost:7357/<br>━━━━━━━━━━━━━━┓<br>  Chrome 40.0 ┃<br>    1/1 ✔     ┃<br>              ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━<br><br>✔ 1 tests complete.<br>[Press ENTER to run tests; q to quit; p to pause]</span></code></pre><h2 id="thinking-about-behaviours-of-the-module">Thinking about Behaviours of the Module <a class="direct-link" href="#thinking-about-behaviours-of-the-module" aria-hidden="true">#</a></h2><p>Behaviour of the module is the output it produces for various inputs. Or we can say, how the module is responding to various scenarios. These scenarios are going to be our test cases. So, before we start writing our test cases, we should think about all possible scenarios the module can handle with.</p><h3 id="javascript-curry-function">JavaScript Curry Function <a class="direct-link" href="#javascript-curry-function" aria-hidden="true">#</a></h3><p>Here we're going to implement a curry function in JavaScript. So in this case, the <em>module</em> or the <em>unit</em> is the function named <code>curry</code>. Let's think and start identifying different scenarios ( in this context, inputs ) for our <code>curry</code> function.</p><p>According to <a href="http://en.wikipedia.org/wiki/Currying">Wikipedia</a>, curry function is defined as:</p><blockquote><p>In mathematics and computer science, currying is the technique of translating the evaluation of a function that takes multiple arguments (or a tuple of arguments) into evaluating a sequence of functions, each with a single argument (partial application).</p></blockquote><p>So by definition, a function <code>add(a,b,c)</code> is a curried function if the <code>add</code> function supports following:</p><pre class="language-js"><code class="language-js"><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// should return 6</span><br><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// should return 6</span><br><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// should return 6</span><br><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// should return 6</span><br><br><span class="token keyword">var</span> sumofTwoAndThree <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// sumofTwoAndThree should be a function</span><br><span class="token function">sumofTwoAndThree</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// should return 6</span></code></pre><p>So, what we're going to implement now is a function that can create a curried function from any other function. We'll divide our test cases into two groups: one for curry function generator and another one for the actual curry function.</p><h3 id="writing-the-first-test-case">Writing the first test case <a class="direct-link" href="#writing-the-first-test-case" aria-hidden="true">#</a></h3><p>Let's start with the curry function generator. We'll name it as <code>makeCurry</code>. Its behaviour is to transform any function into a curried function.</p><p>Edit the <strong>curry-spec.js</strong> and remove the test code we already added. Start with a new <code>describe</code> block. The <strong>curry-spec.js</strong> should be like this now:</p><pre class="language-js"><code class="language-js"><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Curry function generator'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should return a function'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>        <span class="token keyword">var</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><br>        <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">makeCurry</span><span class="token punctuation">(</span>add<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token string">'function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Run the <code>testem</code> command ( if it's already running, you can see the following output in the browser captured )</p><pre class="language-shell-session"><code class="language-shell-session"><span class="token output">ReferenceError: makeCurry is not defined<br>    at Context.&lt;anonymous&gt; (http://localhost:7357/curry-spec.js:4:16)<br>    at callFn (http://localhost:7357/testem/mocha.js:4338:21)<br>    at Test.Runnable.run (http://localhost:7357/testem/mocha.js:4331:7)<br>    at Runner.runTest (http://localhost:7357/testem/mocha.js:4728:10)<br>    at http://localhost:7357/testem/mocha.js:4806:12<br>    at next (http://localhost:7357/testem/mocha.js:4653:14)<br>    at http://localhost:7357/testem/mocha.js:4663:7<br>    at next (http://localhost:7357/testem/mocha.js:4601:23)<br>    at http://localhost:7357/testem/mocha.js:4630:5<br>    at timeslice (http://localhost:7357/testem/mocha.js:5761:27)</span></code></pre><p>We can see that the test is failing. The whole TDD starts from a failing test, and by making it pass. So why waiting, let's implement the <code>makeCurry</code> function inside the <strong>curry.js</strong> file.</p><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> <span class="token function-variable function">makeCurry</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>Now in the testem window, we can see another failure:</p><pre class="language-shell-session"><code class="language-shell-session"><span class="token output">AssertionError: expected undefined to be a function</span></code></pre><p>Modify the <code>makeCurry</code> function to return a dummy function as its output.</p><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> <span class="token function-variable function">makeCurry</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>Our first test should pass now. By far, we have implemented the test case for the simple <code>makeCurry</code> function and implemented the <code>makeCurry</code> function.</p><p>This is how the TDD works. In the next section, we'll see how the whole unit implementation is evolved in series of test cases and the code to make them pass.</p><h2 id="evolving-the-final-code">Evolving the Final Code <a class="direct-link" href="#evolving-the-final-code" aria-hidden="true">#</a></h2><p>For now, we have only one test case for the <code>makeCurry</code> function. Let's think about different scenarios for our curry function.</p><ol><li>Our curry function should always accept one function as parameter, if there is no function provided, it should throw an error.</li></ol><p>Add the another test case inside the <code>curry-spec.js</code></p><pre class="language-js"><code class="language-js"><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Curry function generator'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should return a function'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>        <span class="token keyword">var</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><br>        <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">makeCurry</span><span class="token punctuation">(</span>add<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token string">'function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should throw an error if there is no valid function provided as argument'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>        <span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>            <span class="token function">makeCurry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">throw</span><span class="token punctuation">(</span><span class="token string">'No function provided'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Now we can see that our test case is failing:</p><pre class="language-shell-session"><code class="language-shell-session"><span class="token output">AssertionError: expected [Function] to throw an error</span></code></pre><p>This is because we haven't added the code in our <code>makeCurry</code> function to validate the arguments for it. Let's implement this functionality now:</p><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> <span class="token function-variable function">makeCurry</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> fn<span class="token operator">!==</span><span class="token string">'function'</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>        <span class="token keyword">throw</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">'No function provided'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>Now we're getting into the rhythm of TDD. For now, we're done with the expectations for the <code>makeCurry</code> function. Let's implement the real <code>curry</code> function logic.</p><p>We are going to add a new describe block for the expectations for curry function. Here, the curry function is the one <code>makeCurry</code> returns. I am going to list down all the expectations for the <code>curry</code> function here. We'll take one by one from the list and add to the test and implement the logic.</p><p><strong>Expectations for the curry function</strong>:</p><ul><li>We should be able to call the curried function as the original function provided. Ie, if the original function is <code>add(1,2,3)</code> the curried function <code>curriedAdd(1,2,3)</code> should behave same as <code>add</code> function. Like this:</li></ul><pre class="language-js"><code class="language-js">	<span class="token keyword">var</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>		<span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token operator">+</span>c<span class="token punctuation">;</span><br>	<span class="token punctuation">}</span><br>	<span class="token keyword">var</span> curriedAdd <span class="token operator">=</span> <span class="token function">makeCurry</span><span class="token punctuation">(</span> add <span class="token punctuation">)</span><span class="token punctuation">;</span><br>	<span class="token function">curriedAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// should return 6.</span></code></pre><ul><li>If we call the curried function with the lesser number of arguments, it should return a function</li></ul><pre class="language-js"><code class="language-js"><span class="token function">curriedAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// should return a function</span><br><span class="token function">curriedAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// should return a function</span></code></pre><ul><li>When the total number or arguments is equal to or greater than the original number of arguments, it should return the results</li></ul><pre class="language-js"><code class="language-js"><span class="token function">curriedAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// should return 6</span><br><span class="token function">curriedAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// should return 6</span><br><span class="token function">curriedAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// should return 6</span><br><span class="token function">curriedAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token comment">// should return 6</span></code></pre><ul><li>We should be able to make any number of independent curried functions using <code>makeCurry</code> function.</li></ul><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>	<span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token operator">+</span>c<span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> curryA <span class="token operator">=</span> <span class="token function">makeCurry</span><span class="token punctuation">(</span>add<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> curryB <span class="token operator">=</span> <span class="token function">makeCurry</span><span class="token punctuation">(</span>add<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token function">curryA</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// return 6</span><br><span class="token function">curryB</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// return 6</span></code></pre><p>We came up with all the test scenarios for our curry function. Let's pick one by one and implement the logic. Add the first test case inside the new <code>describe</code> block.</p><pre class="language-js"><code class="language-js"><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Curry function generator'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should return a function'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>        <span class="token keyword">var</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><br>        <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">makeCurry</span><span class="token punctuation">(</span>add<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token string">'function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should throw an error if there is no valid function provided as argument'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>        <span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>            <span class="token function">makeCurry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">throw</span><span class="token punctuation">(</span><span class="token string">'No function provided'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Curry function'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>    <span class="token keyword">var</span> add<span class="token punctuation">;</span><br><br>    <span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>        <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>            <span class="token keyword">return</span> a <span class="token operator">+</span> b <span class="token operator">+</span> c<span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should return the proper result if called with original number of arguments'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>        <span class="token keyword">var</span> curriedAdd <span class="token operator">=</span> <span class="token function">makeCurry</span><span class="token punctuation">(</span> add <span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token function">expect</span><span class="token punctuation">(</span> <span class="token function">curriedAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Testem output should be like this:</p><pre class="language-shell-session"><code class="language-shell-session"><span class="token output">Curry function should return the proper result if called with original number of arguments<br>    ✘ expected undefined to equal 6<br>        AssertionError: expected undefined to equal 6<br>            at Context.&lt;anonymous&gt; (http://localhost:7357/curry-spec.js:25:40)<br>            at callFn (http://localhost:7357/testem/mocha.js:4338:21)<br>            at Test.Runnable.run (http://localhost:7357/testem/mocha.js:4331:7)<br>            at Runner.runTest (http://localhost:7357/testem/mocha.js:4728:10)<br>            at http://localhost:7357/testem/mocha.js:4806:12<br>            at next (http://localhost:7357/testem/mocha.js:4653:14)<br>            at http://localhost:7357/testem/mocha.js:4663:7<br>            at next (http://localhost:7357/testem/mocha.js:4601:23)<br>            at http://localhost:7357/testem/mocha.js:4625:7<br>            at done (http://localhost:7357/testem/mocha.js:4300:5)</span></code></pre><p>Let's make the test pass by adding the implementation:</p><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> <span class="token function-variable function">makeCurry</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> fn<span class="token operator">!==</span><span class="token string">'function'</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>        <span class="token keyword">throw</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">'No function provided'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">var</span> slice <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span>slice<span class="token punctuation">;</span><br>    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">curriedFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>      <span class="token keyword">var</span> args <span class="token operator">=</span> <span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>Okay now, tests are passing. Let's add the next test case inside the "Curry function" describe block:</p><pre class="language-js"><code class="language-js"><span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should return a function when arguments count is less than the original number of arguments'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>    <span class="token keyword">var</span> curriedAdd <span class="token operator">=</span> <span class="token function">makeCurry</span><span class="token punctuation">(</span> add <span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span> <span class="token function">curriedAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token string">'function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Tests are failing now. Time to make them pass.</p><p>Now we need to verify that the number of arguments passed is less than the original number of arguments. If it lesser, the tests are expecting a function to be returned ( than executing the original function ). Let's implement this:</p><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> <span class="token function-variable function">makeCurry</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> fn<span class="token operator">!==</span><span class="token string">'function'</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>        <span class="token keyword">throw</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">'No function provided'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">var</span> slice <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span>slice<span class="token punctuation">;</span><br>    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">curriedFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>      <span class="token keyword">var</span> args <span class="token operator">=</span> <span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>      <span class="token keyword">if</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> fn<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span><br>        <span class="token keyword">return</span> curriedFn<span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br><br>      <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>All the tests are passing now. Let's pick the next test case.</p><pre class="language-js"><code class="language-js"><span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should return the result whenever the total number of arguments is greater than or equal to the original number of arguments'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>    <span class="token keyword">var</span> curriedAdd <span class="token operator">=</span> <span class="token function">makeCurry</span><span class="token punctuation">(</span> add <span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span> <span class="token function">curriedAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token string">'function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span> <span class="token function">curriedAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span> <span class="token function">curriedAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span> <span class="token function">curriedAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span> <span class="token function">curriedAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>And the implementation:</p><pre class="language-js"><code class="language-js"><br><span class="token keyword">var</span> <span class="token function-variable function">makeCurry</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> fn<span class="token operator">!==</span><span class="token string">'function'</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>        <span class="token keyword">throw</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">'No function provided'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">var</span> slice <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span>slice<span class="token punctuation">;</span><br>    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">curriedFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>      <span class="token keyword">var</span> args <span class="token operator">=</span> <span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>      <span class="token keyword">if</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> fn<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span><br>        <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>          <span class="token keyword">return</span> <span class="token function">curriedFn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> args<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span> <span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br><br>      <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>Now, we're going to add our last test case.</p><pre class="language-js"><code class="language-js"><span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should support creating multple curry functions'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>    <span class="token keyword">var</span> curryA <span class="token operator">=</span> <span class="token function">makeCurry</span><span class="token punctuation">(</span>add<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">var</span> curryB <span class="token operator">=</span> <span class="token function">makeCurry</span><span class="token punctuation">(</span>add<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token function">expect</span><span class="token punctuation">(</span> <span class="token function">curryA</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span> <span class="token function">curryA</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token string">'function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token function">expect</span><span class="token punctuation">(</span> <span class="token function">curryB</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span> <span class="token function">curryB</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token string">'function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>And this time, Testem reports that all tests are passing. Voila!, it means we're done with our curry function implementation.</p><h2 id="final-code">Final code <a class="direct-link" href="#final-code" aria-hidden="true">#</a></h2><p>Here is the final code for <strong>curry-spec.js</strong> and the <strong>curry.js</strong>.</p><pre class="language-js"><code class="language-js"><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Curry function generator'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should return a function'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>        <span class="token keyword">var</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><br>        <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">makeCurry</span><span class="token punctuation">(</span>add<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token string">'function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should throw an error if there is no valid function provided as argument'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>        <span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>            <span class="token function">makeCurry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">throw</span><span class="token punctuation">(</span><span class="token string">'No function provided'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'Curry function'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>    <span class="token keyword">var</span> add<span class="token punctuation">;</span><br><br>    <span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>        <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>            <span class="token keyword">return</span> a <span class="token operator">+</span> b <span class="token operator">+</span> c<span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should return the proper result if called with original number of arguments'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>        <span class="token keyword">var</span> curriedAdd <span class="token operator">=</span> <span class="token function">makeCurry</span><span class="token punctuation">(</span> add <span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token function">expect</span><span class="token punctuation">(</span> <span class="token function">curriedAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should return the curried function when arguments count is less than the original number of arguments'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>        <span class="token keyword">var</span> curriedAdd <span class="token operator">=</span> <span class="token function">makeCurry</span><span class="token punctuation">(</span> add <span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token function">expect</span><span class="token punctuation">(</span> <span class="token function">curriedAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token string">'function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should return the result whenever the total number of arguments is greater than or equal to the original number of arguments'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>        <span class="token keyword">var</span> curriedAdd <span class="token operator">=</span> <span class="token function">makeCurry</span><span class="token punctuation">(</span> add <span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token function">expect</span><span class="token punctuation">(</span> <span class="token function">curriedAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token string">'function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token function">expect</span><span class="token punctuation">(</span> <span class="token function">curriedAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token function">expect</span><span class="token punctuation">(</span> <span class="token function">curriedAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token function">expect</span><span class="token punctuation">(</span> <span class="token function">curriedAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token function">expect</span><span class="token punctuation">(</span> <span class="token function">curriedAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should support creating multple curry functions'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>        <span class="token keyword">var</span> curryA <span class="token operator">=</span> <span class="token function">makeCurry</span><span class="token punctuation">(</span>add<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token keyword">var</span> curryB <span class="token operator">=</span> <span class="token function">makeCurry</span><span class="token punctuation">(</span>add<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>        <span class="token function">expect</span><span class="token punctuation">(</span> <span class="token function">curryA</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token function">expect</span><span class="token punctuation">(</span> <span class="token function">curryA</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token string">'function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>        <span class="token function">expect</span><span class="token punctuation">(</span> <span class="token function">curryB</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token function">expect</span><span class="token punctuation">(</span> <span class="token function">curryB</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>be<span class="token punctuation">.</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token string">'function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>curry.js</strong></p><pre class="language-js"><code class="language-js"><br><span class="token keyword">var</span> <span class="token function-variable function">makeCurry</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> fn<span class="token operator">!==</span><span class="token string">'function'</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>        <span class="token keyword">throw</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">'No function provided'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">var</span> slice <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span>slice<span class="token punctuation">;</span><br>    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">curriedFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>      <span class="token keyword">var</span> args <span class="token operator">=</span> <span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">if</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> fn<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span><br>        <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><br>          <span class="token keyword">return</span> <span class="token function">curriedFn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> args<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span> <span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br><br>      <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="summary">Summary <a class="direct-link" href="#summary" aria-hidden="true">#</a></h2><p>I wouldn't say TDD is nice and simple. Writing all the code in TDD way is tough and frustrating for beginners. But if you keep practicing TDD, eventually you are going to love it. TDD will help you to concentrate on a small part of your code and complete it with perfection. Finally, that will lead to implement a better design for your actual module. So my point is, TDD is useful for better architecture of your code and the code will be less error prone.</p><p>Thanks for reading. I hope this will help for implementing TDD for your next project. Feedbacks are welcome.</p><div class="load-comments" data-load-disqus="">Comments</div><p><a href="/">← Home</a></p><div class="footer"><div class="rainbow-border-box"></div><div class="footer__content"><div class="footer__image"><img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAA0JCgsKCA0LCgsODg0PEyAVExISEyccHhcgLikxMC4pLSwzOko+MzZGNywtQFdBRkxOUlNSMj5aYVpQYEpRUk8BDg4OExETJhUVJk81LTVPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT//AABEIAAwACwMBEQACEQEDEQH/xAGiAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgsQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+gEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoLEQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/ALrSyyS2VxEJ2V8CQKBtI5ySPx/Snyz5vIfucrtuR3V9Aly6/ZZODj/PFaqLsc8tyDQrqY6GsjNuZIgBkf7TD+VTGTtLyN5xV4mJqep3cep3SLINqysBwOmaIO8U2hzjaTSP/9k=" alt="Shidhin CR" loading="lazy" data-src="/img/shidhin_dp_small.png" class="lazyload" width="100" height="111"></div><div class="footer__desc">Shidhin is a Front-end engineer and <a href="https://developers.google.com/community/experts/directory/profile/profile-shidhin_cr">Google Developer Expert</a> in Web Tech. Follow him on <a class="twitter-link" href="https://twitter.com/intent/follow?original_referer=undefinednull.com&amp;ref_src=twsrc%5Etfw&amp;screen_name=shidhincr&amp;tw_p=followbutton">Twitter</a><div class="footer_desc-social-links"><a href="//linkedin.com/in/shidhincr">LinkedIn</a> <a href="//github.com/shidhincr">Github</a> <a href="//facebook.com/shidhincr">Facebook</a> <a href="mailto: shidhincr@gmail.com">Email</a></div></div></div></div><div id="disqus_thread"></div></main><script>window.addEventListener("load",()=>{var e,t,n,i,a,s;window.disqus_config=function(){this.page.url="https://www.undefinednull.com/2015/03/19/implementing-a-curry-function-in-javascript-using-tdd/",this.page.identifier="https://www.undefinednull.com/2015/03/19/implementing-a-curry-function-in-javascript-using-tdd/"},function(e,t,n){if("loading"in HTMLImageElement.prototype){var i=document.querySelectorAll("img"),a=i.length;if(a>0)for(var s=0;s<a;s++)i[s].src=i[s].dataset.src}else{var c=document.createElement("script");c.async=!0,c.src="https://cdn.jsdelivr.net/npm/lazysizes@5/lazysizes.min.js",document.body.appendChild(c)}}(),e=window,t=document,n="script",i="ga",e.GoogleAnalyticsObject=i,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,a=t.createElement(n),s=t.getElementsByTagName(n)[0],a.async=1,a.src="https://www.google-analytics.com/analytics.js",s.parentNode.insertBefore(a,s),ga("create","UA-10379928-17","auto"),ga("require","displayfeatures"),ga("send","pageview")}),function(){let e=document.querySelector("[data-load-disqus]");e&&e.addEventListener("click",(function(t){var n,i;e.innerHTML="Loading Comments ...",n=document,(i=n.createElement("script")).src="https://shidhincr.disqus.com/embed.js",i.setAttribute("data-timestamp",+new Date),(n.head||n.body).appendChild(i),setTimeout(()=>{var t=document.querySelector("#disqus_thread");t&&t.scrollIntoView(),e.remove()},2e3)}),{once:!0})}();</script><div class="footer-links"><div>© 2020 Shidhin CR</div><div><a href="/sitemap.xml">Sitemap</a></div></div></body></html>